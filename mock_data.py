from datetime import datetime, timedelta, timezone
import os
import random

import requests

adjectives = ["filthy","horrible","curly","four","imperfect","rigid","beneficial","second-hand","outstanding","expensive","parallel","marvelous","helpful","likeable","stupendous","dirty","annoying","axiomatic","abrasive","various","amused","stereotyped","warm","miniature","jolly","aromatic","curious","nutritious","voiceless","needless","wild","statuesque","disagreeable","offbeat","sneaky","brawny","quack","cold","round","evasive","satisfying","two","dynamic","wrathful","tiresome","unknown","super","capable","disturbed","rare","piquant","wasteful","judicious","humdrum","new","observant","sore","questionable","mindless","industrious","massive","petite","hilarious","erratic","adamant","frail","closed","good","dull","comfortable","secretive","faint","periodic","easy","gray","modern","zippy","spotless","quirky","silent","jaded","sad","last","rural","lovely","excited","strong","cool","acid","mean","bored","violet","salty","paltry","frantic","domineering","quixotic","bashful","bouncy","bright","open","somber","nice","hard-to-find","defiant","awful","wealthy","nimble","glib","irate","colossal","ill-fated","empty","disastrous","royal","impolite","ashamed","vivacious","bent","dreary","abhorrent","dapper","ajar","malicious","light","toothsome","deadpan","overrated","towering","meek","shocking","lyrical","delightful","innate","limping","tidy","lean","knowledgeable","thankful","relieved","ubiquitous","loving","alluring","ultra","brash","youthful","chief","damp","elegant","whispering","unaccountable","addicted","acidic","alleged","amuck","berserk","unbiased","magnificent","homeless","broken","aboard","abashed","marked","craven","aboriginal","endurable","gaudy","deafening","giddy","annoyed","natural","blue","truthful","fresh","sweet","elite","romantic","tremendous","thoughtful","fallacious","rightful","well-groomed","ill","green","outgoing","noxious","rabid","murky","bad","sore","exuberant","hypnotic","different","acceptable","vagabond","dusty","long-term","known","flaky","private","average","scarce","nonchalant","tawdry","caring","adventurous","wiggly","flawless","ill-informed","ambitious","crowded","ruddy","historical","abrupt","purring","boiling","greedy","forgetful","dazzling","lucky","abiding","thirsty","hateful","cloistered","righteous","coordinated","steep","profuse","responsible","instinctive","smart","old","verdant","general","graceful","knotty","swanky","nauseating","bumpy","skillful","unhealthy","intelligent","nostalgic","undesirable","puny","careless","idiotic","makeshift","worried","resonant","kindhearted","productive","quarrelsome","brave","spiky","perpetual","incredible","thirsty","hellish","mundane","pricey","ragged","available","real","juvenile","tender","parsimonious","better","macho","innocent","furry","joyous","nebulous","smooth","common","labored","loud","wicked","agonizing","belligerent","aberrant","holistic","next","hot","savory","slippery","high-pitched","bewildered","magenta","silly","roomy","ritzy","soggy","actually","incandescent","earsplitting","dizzy","tasteful","adhesive","wonderful","funny","lying","thinkable","sweltering","languid","black","flashy","irritating","cagey","bitter","discreet","subdued","enormous","boorish","reminiscent","steadfast","willing","repulsive","squalid","majestic","hulking","rough","womanly","abandoned","superficial","descriptive","able","blue-eyed","succinct","unequaled","freezing","onerous","internal","dependent","nippy","envious","absurd","great","agreeable","bawdy","placid","obsequious","divergent","harsh","uneven","long","flagrant","pleasant","heavy","grieving","rude","misty","polite","medical","puzzled","wide-eyed","daffy","zonked","awesome","humorous","sincere","hallowed","ratty","tense","glossy","selfish","understood","symptomatic","calculating","shiny","few","talented","alert","screeching","absent","cloudy","substantial","obnoxious","witty","adjoining","raspy","ahead","guiltless","psychedelic","literate","mushy","goofy","concerned","highfalutin","silent","robust","second","possessive","hesitant","waiting","neighborly","big","deranged","wide","futuristic","mellow","gabby","didactic","used","alive","shy","mysterious","spotted","moaning","smoggy","waggish","erect","superb","swift","whole","worthless","oval","grandiose","plastic","handsome","racial","handsomely","spicy","fortunate","ugliest","milky","bizarre","petite","special","incompetent","illegal","depressed","certain","well-to-do","determined","unique","half","ignorant","maniacal","wrong","rhetorical","abounding","gifted","political","uttermost","disillusioned","enchanted","equable","serious","wholesale","nonstop","regular","steady","accidental","sable","clumsy","creepy","glamorous","alcoholic","hushed","striped","unkempt","fluttering","weak","necessary","giant","immense","tall","untidy","puffy","miscreant","tiny","decorous","seemly","merciful","quiet","itchy","panicky","obedient","useful","unruly","kaput","tangible","stingy","wacky","madly","extra-small","fine","bloody","embarrassed","disgusting","interesting","maddening","guarded","gentle","fumbling","conscious","absorbing","gratis","resolute","wet","festive","tearful","thin","deserted","perfect","mature","lively","accurate","synonymous","tightfisted","stiff","elated","fancy","vigorous","gusty","terrible","vast","possible","lazy","awake","loutish","spiteful","trite","happy","faded","squealing","harmonious","friendly","material","clear","splendid","plant","organic","oceanic","tired","boundless","uncovered","strange","decisive","billowy","brainy","selective","impossible","foamy","near","hideous","tense","cute","flippant","muddled","tasteless","lowly","lopsided","rainy","amazing","keen","nasty","narrow","sick","thundering","detailed","black-and-white","shivering","angry","jagged","psychotic","defective","jobless","late","cultured","afraid","trashy","ad hoc","five","deeply","cut","spectacular","obscene","famous","sordid","smelly","foregoing","abnormal","wretched","puzzling","befitting","dark","hapless","hissing","dry","powerful","adorable","momentous","clammy","glistening","fragile","knowing","panoramic","tacky","breezy","nine","uppity","wise","yielding","familiar","vengeful","aspiring","smiling","heavenly","wanting","oafish","false","lethal","tricky","phobic","nosy","longing","threatening","imminent","obsolete","scandalous","faithful","tested","rebel","inexpensive","unsuitable","lackadaisical","left","calm","demonic","sticky","laughable","hospitable","picayune","brown","straight","sassy","elderly","childlike","married","thick","guttural","separate","economic","enthusiastic","opposite","colorful","lame","lamentable","overt","yellow","handy","learned","far","scattered","brief","crazy","feeble","hurt","alike","unadvised","obeisant","healthy","redundant","aquatic","large","legal","illustrious","stimulating","curvy","thoughtless","female","lacking","boring","educated","level","chemical","orange","slimy","fertile","tame","fuzzy","cuddly","slow","courageous","scrawny","one","confused","premium","icky","tranquil","equal","secret","woozy","sleepy","crabby","typical","wandering","bright","upset","functional","tasty","delicate","previous","male","proud","peaceful","weary","barbarous","charming","entertaining","pathetic","drunk","ten","energetic","versed","flimsy","auspicious","frightened","upbeat","dispensable","sophisticated","pastoral","pale","adaptable","present","warlike","ripe","poised","numberless","fixed","lewd","earthy","yummy","nifty","full","elastic","sulky","vulgar","amusing","low","workable","fantastic","sturdy","hollow","cowardly","aggressive","overjoyed","hungry","snotty","fanatical","painstaking","noisy","helpless","well-off","hard","devilish","feigned","fierce","habitual","damaging","stupid","fluffy","complete","greasy","hysterical","jumpy","watery","delicious","gainful","kindly","grotesque","mute","spooky","prickly","recondite","capricious","excellent","grouchy","same","imported","mammoth","abundant","huge","voracious","physical","omniscient","needy","victorious","shaggy","well-made","best","zesty","gamy","fearful","troubled","electric","teeny-tiny","dear","precious","blushing","unable","sparkling","young","chivalrous","plausible","cute","messy","old-fashioned","aloof","combative","bite-sized","careful","mountainous","scintillating","exclusive","square","spiritual","normal","invincible","high","receptive","ancient","melodic","fat","null","quizzical","whimsical","white","faulty","past","protective","vague","meaty","tough","hurried","overconfident","motionless","rotten","optimal","outrageous","animated","neat","automatic","jittery","abstracted","ethereal","utter","tan","ludicrous","drab","scared","assorted","acrid","plain","extra-large","naive","gullible","glorious","abusive","godly","penitent","unarmed","sour","gaping","crooked","even","apathetic","grubby","aback","true","defeated","disgusted","cheerful","unwieldy","vacuous","homely","ambiguous","debonair","doubtful","lively","heartbreaking","teeny","mere","changeable","shut","gorgeous","wooden","dashing","kind","luxuriant","volatile","tacit","broad","cumbersome","aware","clean","unusual","anxious","early","sudden","obtainable","damaged","ugly","chilly","melted","unbecoming","tight","safe","jealous","coherent","temporary","condemned","chubby","pushy","uptight","useless","deep","grey","lumpy","efficient","permissible","solid","remarkable","pretty","first","sedate","squeamish","quick","ready","dramatic","tart","future","arrogant","snobbish","tenuous","cynical","rich","parched","eager","loose","materialistic","shaky","abortive","probable","abject","moldy","exultant","terrific","rambunctious","zealous","fretful","honorable","groovy","cooing","cooperative","spiffy","red","cruel","sloppy","flowery","shallow","evanescent","six","distinct","stale","roasted","eight","telling","unnatural","absorbed","unused","silky","little","enchanting","wistful","elfin","icy","husky","fearless","pointless","odd","juicy","purple","right","taboo","beautiful","important","plucky","busy","reflective","efficacious","free","inconclusive","dysfunctional","simplistic","lonely","breakable","ordinary"]
nouns = ["growth","wire","prose","girl","writing","clam","use","jelly","invention","butter","tramp","company","sleet","birth","start","men","badge","advice","hose","stranger","sun","basin","rhythm","fork","trick","house","soup","magic","cup","glass","letter","grip","interest","doctor","animal","pleasure","porter","uncle","airport","cherry","swing","stretch","riddle","theory","transport","babies","vein","zebra","mist","group","government","vacation","pot","cherries","rock","train","blade","guitar","face","level","tendency","amount","bell","taste","thumb","sink","army","waves","cast","quilt","force","year","ice","bridge","mine","grape","school","quicksand","toes","poison","month","food","leg","run","north","coast","bath","chance","fold","trains","camp","plantation","table","thrill","mask","road","rake","blood","squirrel","show","cheese","bomb","range","edge","scissors","insurance","pizzas","canvas","mom","sock","brass","brake","stem","kick","ring","crowd","yoke","land","story","milk","profit","teeth","rings","pig","sister","observation","plane","gold","cart","tray","zephyr","activity","skate","box","ear","sound","silver","behavior","country","trucks","appliance","seat","fish","detail","throne","night","noise","coil","boat","calculator","dust","fang","power","fact","relation","dogs","minute","shirt","home","kittens","tomatoes","rail","test","eye","love","line","loss","worm","store","fear","teaching","sweater","sail","crayon","argument","drain","spark","flowers","curve","quiver","payment","button","view","frogs","pies","dad","horses","friend","shelf","digestion","crime","act","burst","eyes","rub","snails","effect","lake","curtain","believe","pie","cub","knife","plate","seashore","instrument","cars","eggnog","current","snow","grain","children","mice","flame","wind","collar","slip","scale","pen","rain","shop","beef","station","pest","expert","front","nation","history","toothpaste","smoke","art","oranges","thing","respect","sponge","string","engine","reason","stitch","loaf","frog","sofa","orange","weight","baseball","wool","toad","memory","knee","arch","metal","smash","part","dress","oil","bushes","play","giraffe","cakes","sisters","books","death","fairies","wish","haircut","wall","basket","pin","snake","base","amusement","number","request","end","fog","stone","cows","locket","toe","toy","smell","plough","feeling","jewel","mailbox","record","tub","neck","cream","oatmeal","dirt","earthquake","cent","surprise","donkey","bucket","vegetable","pocket","flower","decision","science","swim","cloth","adjustment","steel","increase","quince","stamp","tent","mint","health","sticks","bat","pancake","branch","liquid","wrench","kiss","comparison","mind","tin","robin","humor","passenger","harmony","shock","trouble","slave","coat","shape","coach","kettle","honey","cable","way","lettuce","religion","celery","side","stocking","cook","calendar","meat","knot","knowledge","reaction","plastic","system","arm","acoustics","cause","boundary","pets","van","wing","nose","beds","rat","cannon","regret","lunch","exchange","wave","ghost","idea","bite","laborer","bedroom","cemetery","cobweb","gate","carriage","shoe","apparel","middle","office","ink","battle","volcano","yard","crook","waste","property","building","hill","sheet","pet","achiever","chickens","pencil","cake","berry","hot","value","nut","summer","industry","division","rabbit","dinosaurs","low","toys","cow","tooth","water","elbow","lace","sort","geese","ticket","drop","birthday","scarf","egg","self","bulb","example","tongue","floor","morning","talk","border","flock","deer","cover","peace","creature","hair","fowl","arithmetic","chalk","bike","key","language","quarter","bubble","queen","pail","door","distance","shake","shoes","bed","authority","stage","bag","distribution","spot","alarm","drink","steam","aftermath","angle","pigs","sidewalk","writer","cap","ladybug","stop","needle","approval","class","twig","volleyball","town","nest","lamp","cactus","finger","powder","treatment","order","fire","letters","hole","experience","jellyfish","smile","word","rod","fruit","mouth","monkey","carpenter","vase","person","crack","chicken","gun","boot","wash","yam","soda","zinc","whistle","pollution","stick","zoo","pull","notebook","scarecrow","hospital","plants","blow","circle","hall","ducks","sugar","tree","laugh","action","paper","position","field","chess","quill","rule","hobbies","daughter","song","yak","cabbage","voice","foot","trees","bottle","screw","development","eggs","grandmother","street","rice","lumber","jail","railway","cat","impulse","need","juice","committee","cave","wine","sense","oven","destruction","salt","spoon","selection","downtown","day","apparatus","representative","winter","rest","woman","glove","condition","war","farm","hour","punishment","spade","crown","truck","nerve","pan","parcel","hammer","produce","seed","cats","income","root","sign","underwear","voyage","limit","fireman","harbor","attraction","slope","trade","duck","flavor","push","direction","moon","jar","flesh","top","twist","grade","songs","club","pear","dolls","rose","yarn","holiday","rate","ship","wheel","walk","grandfather","fly","offer","sheep","unit","women","wrist","pump","connection","tax","church","watch","stream","advertisement","insect","week","heat","debt","wound","sneeze","belief","crib","giants","toothbrush","form","hat","pickle","square","coal","judge","throat","turkey","verse","caption","bells","time","tank","hate","beginner","window","ball","error","touch","breath","flag","back","doll","ocean","channel","thunder","camera","hook","iron","whip","ray","book","sleep","airplane","join","rifle","fall","birds","team","river","ants","match","skin","secretary","girls","thread","turn","wren","shame","earth","guide","rabbits","protest","hope","minister","drawer","furniture","competition","care","anger","event","planes","price","sand","size","work","note","party","basketball","vest","space","wealth","wood","baby","roof","umbrella","spring","existence","attack","jam","afternoon","addition","trousers","air","vessel","change","frame","business","point","bait","quartz","question","snakes","balance","trail","friction","bee","picture","desire","support","board","veil","crate","cattle","potato","temper","mark","scent","measure","structure","bit","account","bead","kitty","card","corn","mountain","creator","statement","dog","move","library","wax","hydrant","recess","skirt","bikes","marble","lunchroom","clover","cough","plot","jump","bear","lock","mitten","suit","silk","hand","houses","weather","discussion","chin","ground","sea","mass","color","suggestion","mother","stew","place","substance","reward","territory","visitor","aunt","tiger","hands","muscle","expansion","name","brother","market","degree","dinner","wilderness","plant","head","icicle","spiders","motion","education","room","stove","control","maid","lip","credit","purpose","star","dock","cracker","snail","can","soap","man","stomach","shade","linen","leather","cellar","actor","title","reading","car","step","meal","money","jeans","meeting","rainstorm","receipt","legs","horn","spy","desk","grass","things","governor","island","discovery","bone","sky","page","crow","straw","quiet","son","horse","fuel","thought","design","boy","scene","brick","bird","society","friends","partner","texture","flight","driving","pipe","tail","roll","route","zipper","afterthought","trip","cushion","servant","playground","copper","machine","popcorn","dime","sack","look","agreement"]
lorem = """Lorem ipsum odor amet, consectetuer adipiscing elit. Amet nam nunc mollis odio malesuada potenti aenean. Dapibus pretium ut consequat blandit aliquam fames facilisi. Et mauris magnis commodo pharetra facilisis ad; litora purus. Ligula magnis habitasse sit porta massa natoque. Quam tincidunt a auctor tincidunt faucibus tortor. Integer posuere mauris augue nulla ex eleifend pharetra sociosqu. Aliquet egestas ornare augue tincidunt parturient augue; donec tellus purus. Hac odio ipsum dolor curae; auctor tellus convallis felis. Sollicitudin diam massa vitae neque leo ornare. Feugiat dolor amet ad duis malesuada. Dignissim lacus vivamus mattis turpis nisl urna interdum. Sagittis eleifend netus; ac sed leo sociosqu ante semper. Vehicula maximus sodales ut nibh torquent ac erat montes. Luctus duis proin ac condimentum habitant magnis mauris. Nascetur taciti felis hac ac ut pharetra curae. Et nam velit etiam facilisis varius. Molestie tortor iaculis ultricies ligula justo interdum lacus fringilla. Curae ex risus fringilla proin fusce gravida cursus. Cubilia laoreet dolor finibus est ridiculus; montes bibendum est. Nulla magnis suscipit at dis magnis placerat neque augue varius. Quam amet primis pharetra est quis vehicula aptent posuere. Arcu venenatis dis magnis odio sodales ut convallis. Class auctor in praesent vivamus; sem non non. Primis nisi vivamus parturient facilisi eleifend litora condimentum porttitor convallis. Vehicula mi laoreet sollicitudin luctus placerat mattis; in semper. Pharetra pretium himenaeos consectetur etiam, porta sit sit. Donec vivamus vehicula, convallis sodales porta rhoncus fringilla ullamcorper auctor. Montes duis lectus amet non in sagittis est. Natoque consequat dis quis ligula felis hac. Viverra mus nascetur suscipit, massa tortor gravida arcu pharetra. Curabitur facilisi maecenas donec libero; non sodales maximus congue mattis. Mus primis penatibus enim scelerisque integer praesent dui mi. Parturient vivamus turpis efficitur diam; imperdiet euismod dis aenean. Conubia faucibus litora sed mi dignissim accumsan laoreet. Proin vel libero mi platea interdum commodo etiam. Viverra sociosqu volutpat efficitur facilisis lacinia semper neque. Curabitur nisl vivamus natoque sapien vestibulum lacinia felis phasellus nostra. Suspendisse lobortis leo integer fames rutrum vestibulum pulvinar ultricies."""
lorem_words = lorem.split(" ")
langs = ["C++","Java","C","C#","JavaScript","Go","SQL","Visual Basic","Fortran","Delphi","Pascal","Scratch","PHP","Rust","MATLAB","Ruby","Assembly","R","Swift","COBOL"]


def _load_franken():
    with open("mock_data/frankenstein.txt") as file:
        global franken, franken_starts
        franken = file.read().replace("\r\n", " ").replace("_", "")
        franken_starts = [0]
        for i in range(len(franken) - 1):
            c = franken[i]
            if c == "." or c == "!" or c == "?":
                franken_starts.append(i + 1)
        file.close()


if not os.path.exists("mock_data"):
    os.mkdir("mock_data")
try:
    _load_franken()
except FileNotFoundError:
    with open("mock_data/frankenstein.txt", "x") as file:
        req = requests.get("https://www.gutenberg.org/cache/epub/84/pg84.txt")
        req.encoding = "UTF8"
        text = req.text
        file.write(text[text.find("You will rejoice") : text.rfind("*** END")])
        file.close()
    _load_franken()


def username():
    adj = random.choice(adjectives).capitalize()
    noun = random.choice(nouns).capitalize()
    num = random.randint(10, 99)
    return adj + noun + str(num)


def code():
    line_count = random.randint(1, 100)
    lines = []
    indents = 0

    for _ in range(line_count):
        if random.random() < 0.1:
            # Randomly change indentation
            if indents > 0 and random.random() < 0.5 or indents == 4:
                indents -= 1
                lines.append("    " * indents + "}")
            else:
                lines.append(
                    "    " * indents + random.choice(lorem_words).capitalize() + "() {"
                )
                indents += 1
        else:
            # Generate text
            lines.append(
                "    " * indents
                + " ".join(random.choices(lorem_words, k=random.randint(1, 10)))
                + ";"
            )

    return "\n".join(lines)


def title():
    text = ""
    for _ in range(random.randint(0, 5)):
        text += random.choice(adjectives) + " "
    text += random.choice(nouns)
    return text.capitalize()


def paragraph():
    sentence_count = random.randint(1, 5)
    ind_start = random.randint(0, len(franken_starts) - sentence_count - 1)
    char_start = franken_starts[ind_start]
    char_end = franken_starts[ind_start + sentence_count]
    return franken[char_start:char_end]


def tags():
    list = []
    for _ in range(random.randint(0, 6)):
        if random.random() < 0.2:
            list.append(random.choice(nouns).capitalize())
        else:
            list.append(random.choice(langs))


def time():
    days_ago = random.random() * 365 * 2
    return datetime.now(timezone.utc) + timedelta(-days_ago)
